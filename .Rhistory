setwd("~/Desktop/Spring '23/MATH 318/OR1")
knitr::opts_chunk$set(echo = TRUE)
library(leaflet)
library(tidyverse)
library(readxl)
library(writexl)
library(dplyr)
#load in data
mc <- read.csv("Data/menu.csv")
price <- read.csv("Data/prices.csv")
no_brekky <- mc %>%
filter(mc$Category != "Breakfast")
no_brekky_small_bev <- no_brekky[!grepl("Small", no_brekky$Item), ]
no_brekky_large_bev <- no_brekky_small_bev[!grepl("Large", no_brekky_small_bev$Item), ]
no_brekky_child_bev <- no_brekky_large_bev[!grepl("Child", no_brekky_large_bev$Item), ]
no_brekky_kids_bev <- no_brekky_child_bev[!grepl("Kids", no_brekky_child_bev$Item), ]
no_brekky_snack_bev <- no_brekky_kids_bev[!grepl("Snack", no_brekky_kids_bev$Item), ]
df <- no_brekky_snack_bev
df$Item <- gsub("\\(Medium\\)", "", df$Item)
df <- left_join(df, price, by = "Item")
df$Price <- gsub("\\$", "", df$Price)
df$Price <- ifelse(grepl("McFlurry", df$Item), 4.29, df$Price)
df$Price <- ifelse(grepl("Shake|Smoothie", df$Item), 3.69, df$Price)
df$Price <- ifelse(grepl("Mocha", df$Item), 3.49, df$Price)
df$Price <- ifelse(grepl("Latte|Minute", df$Item), 3.29, df$Price)
df$Price <- ifelse(grepl("Tea|Milk|Dasani", df$Item), 1.49, df$Price)
df$Price <- ifelse(grepl("Sprite|Dr|Coke|Cola", df$Item), 1.79, df$Price)
df$Price <- ifelse(grepl("Iced", df$Item) & grepl("Coffee", df$Item), 2.69, df$Price)
df$Price <- ifelse(grepl("Hot Chocolate", df$Item), 2.79, df$Price)
df$Price <- ifelse(grepl("Sundae", df$Item), 3.49, df$Price)
df$Price <- ifelse(grepl("FrappÃ©", df$Item), 3.99, df$Price)
df$Price <- ifelse(grepl("Cookie", df$Item), 1.99, df$Price)
df$Price <- ifelse(grepl("Southwest", df$Item) & grepl("Salad", df$Item),
5.51, df$Price)
df$Price <- ifelse(grepl("Bacon", df$Item) & grepl("Salad", df$Item),
5.28, df$Price)
df$Price[c(2:3, 5:6, 16, 18, 37:42, 49:51, 53, 71)] <- c(5.19, 6.19, 5.69, 7.09,
4.79, 5.59, 1.89, 2.50,
5.16, 6.89, 12.39, 4.89,
3.59, 1.99, 0.89, 1.59,
1.99)
#drop NAs
df <- df[complete.cases(df$Price),]
#drop apple juice
df <- df[-43,]
View(df)
#export
write.csv(df, "Data/menu_prices.csv")
#export
write.csv(df, "Data/menu_prices.csv", row.names=FALSE)
